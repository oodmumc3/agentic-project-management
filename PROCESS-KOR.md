# Cursor를 통해 "TODO-앱"을 모의로 만드는 단계별 가이드

APM(Agentic Project Management) 프레임워크를 기반으로 Cursor IDE를 사용하여 "TODO-앱"을 모의로 만드는 과정을 단계별로 정리하겠습니다. 이 가이드는 APM의 구조화된 워크플로우를 활용하여 프로젝트를 초기화하고, Manager Agent와 Implementation Agent를 조율하며, TODO-앱을 개발하는 과정을 설명합니다.

---

## 단계 1: 프로젝트 초기화
- **목표**: 새로운 프로젝트를 설정하고 작업 환경을 준비합니다.
- **실행 방법**:
  1. Cursor IDE를 엽니다.
  2. 새로운 프로젝트 디렉토리를 생성하고 이름을 **"TODO-앱"**으로 지정합니다.
     - 예: 터미널에서 `mkdir TODO-앱` 실행 후 `cd TODO-앱`으로 이동.
  3. APM 프레임워크 자산을 가져옵니다.
     - 추천 방법: [APM GitHub 리포지토리](https://github.com/sdi2200262/agentic-project-management)를 프로젝트 루트에 클론합니다.
       ```bash
       git clone https://github.com/sdi2200262/agentic-project-management.git .
       ```
     - 이렇게 하면 `prompts/`, `docs/`, `rules/` 등의 디렉토리가 프로젝트 루트에 위치하게 됩니다.

---

## 단계 2: Manager Agent 초기화
- **목표**: Manager Agent를 활성화하여 프로젝트 관리를 시작합니다.
- **실행 방법**:
  1. Cursor에서 새로운 채팅 탭을 엽니다.
     - 탭 이름을 "APM Manager - TODO 앱"으로 설정하여 명확히 구분합니다.
  2. `prompts/00_Initial_Manager_Setup/01_Initiation_Prompt.md` 파일을 엽니다.
  3. 파일 전체 내용을 복사하여 Manager Agent 채팅 탭에 붙여넣습니다.
  4. Manager Agent가 응답하면 APM 자산 가용성을 확인할 것입니다. 다음과 같이 응답하세요:
     - "APM 자산이 프로젝트 루트에 완전히 클론되어 있습니다."
  5. Manager Agent가 프로젝트 개요를 요청하면 다음을 제공합니다:
     - "사용자가 할 일을 추가, 수정, 삭제할 수 있는 간단한 웹 애플리케이션을 만들고 싶습니다."

---

## 단계 3: 프로젝트 목표 설정 및 Implementation Plan 개발
- **목표**: Manager Agent와 협력하여 TODO-앱의 목표를 정의하고 실행 계획을 수립합니다.
- **실행 방법**:
  1. Manager Agent와 대화하며 TODO-앱의 요구사항을 구체화합니다.
     - 예: "기본 기능은 할 일 목록 표시, 새 항목 추가, 완료 상태 토글, 항목 삭제입니다."
  2. Manager Agent가 `Implementation_Plan.md` 파일을 생성하도록 유도합니다.
     - Manager가 계획 초안을 제안하면 검토 후 승인합니다.
     - 예시 계획 구조:
       ```markdown
       # Implementation Plan
       Project Goal: 사용자가 할 일을 관리할 수 있는 간단한 웹 애플리케이션 개발.

       ## Phase 1: Backend Setup - Agent Group Alpha (Agent A)
       ### Task A - Agent A: TODO 데이터 모델 및 API 설계
       Objective: 할 일 데이터를 저장하고 관리하는 백엔드 구축.
       1. 데이터 모델 정의.
          - 필드: id (PK), task (string), completed (boolean), created_at (timestamp).
       2. REST API 엔드포인트 설계.
          - GET /todos, POST /todos, PUT /todos/:id, DELETE /todos/:id.

       ## Phase 2: Frontend Development - Agent Group Beta (Agent B)
       ### Task B - Agent B: 사용자 인터페이스 구현
       Objective: 할 일 관리 UI 구축.
       1. React 프로젝트 초기화.
       2. 할 일 목록 컴포넌트 구현.
       ```
  3. Manager가 파일을 프로젝트 루트에 생성하면 내용을 확인하고 필요 시 수정 요청합니다.

---

## 단계 4: Memory Bank 설정
- **목표**: 프로젝트 로그를 기록할 Memory Bank 시스템을 설정합니다.
- **실행 방법**:
  1. Manager Agent에게 Memory Bank 설정을 요청합니다.
     - 예: "단일 `Memory_Bank.md` 파일로 Memory Bank를 설정해주세요."
  2. Manager가 제안한 구조를 검토합니다.
     - 예시 결과:
       ```markdown
       # Memory Bank
       Project: TODO-앱
       Purpose: 모든 에이전트의 작업 로그를 기록.
       ```
  3. 승인 후 Manager가 `Memory_Bank.md` 파일을 생성하도록 합니다.

---

## 단계 5: 작업 할당
- **목표**: Implementation Plan의 첫 번째 작업을 Implementation Agent에게 할당합니다.
- **실행 방법**:
  1. `Implementation_Plan.md`에서 첫 번째 작업을 확인합니다 (예: "Task A - Agent A: TODO 데이터 모델 및 API 설계").
  2. Manager Agent 채팅 탭에서 Task Assignment Prompt 준비를 요청합니다.
     - 예: "Agent A에게 Task A를 위한 Task Assignment Prompt를 준비해주세요."
  3. Manager가 제공한 프롬프트 예시:
     ```markdown
     Task: TODO 데이터 모델 및 API 설계
     Agent: Agent A
     Objective: 할 일 데이터를 관리하는 백엔드 구축.
     Action Steps:
     1. 데이터 모델 정의: id (PK), task (string), completed (boolean), created_at (timestamp).
     2. REST API 엔드포인트 설계: GET /todos, POST /todos, PUT /todos/:id, DELETE /todos/:id.
     Expected Output: 데이터 모델 설계 문서 및 API 명세 초안.
     Logging: 완료 후 `Memory_Bank.md`에 결과를 기록.
     ```

---

## 단계 6: Implementation Agent 초기화
- **목표**: Implementation Agent를 활성화하여 작업을 시작할 준비를 합니다.
- **실행 방법**:
  1. Cursor에서 새로운 채팅 탭을 엽니다.
     - 탭 이름을 "Agent A - Backend"로 설정합니다.
  2. `prompts/02_Utility_Prompts_And_Format_Definitions/Implementation_Agent_Onboarding.md` 파일의 내용을 복사합니다.
  3. Agent A 채팅 탭에 붙여넣습니다.
  4. Agent A가 준비 완료를 알리면 (예: "온보딩을 이해했습니다. 첫 번째 작업을 기다립니다."), 다음 단계를 진행합니다.

---

## 단계 7: 작업 실행
- **목표**: Implementation Agent가 첫 번째 작업을 수행하도록 합니다.
- **실행 방법**:
  1. Manager Agent로부터 받은 Task Assignment Prompt를 Agent A 채팅 탭에 붙여넣습니다.
  2. Agent A가 작업을 수행하고 결과를 보고하면 (예: 데이터 모델 및 API 명세 초안), 이를 검토합니다.

---

## 단계 8: 작업 완료 및 로깅
- **목표**: 완료된 작업을 Memory Bank에 기록합니다.
- **실행 방법**:
  1. Agent A의 결과를 확인 후 로깅을 지시합니다.
     - 예: "작업이 잘 완료되었습니다. `Memory_Bank.md`에 표준 형식으로 기록해주세요."
  2. Agent A가 기록한 로그 예시:
     ```markdown
     ### Log Entry
     * **Status:** Completed
     * **Summary:** TODO 데이터 모델 (id, task, completed, created_at) 정의 및 REST API 엔드포인트 (GET/POST/PUT/DELETE) 설계 완료.
     * **Outputs:** 데이터 모델 및 API 명세 초안 작성.
     * **Issues:** 없음.
     ```

---

## 단계 9: Manager Agent에게 보고
- **목표**: 작업 완료를 Manager Agent에게 알리고 다음 단계를 준비합니다.
- **실행 방법**:
  1. Manager Agent 채팅 탭으로 돌아갑니다.
  2. 보고합니다: "Agent A가 Task A를 완료하고 `Memory_Bank.md`에 기록했습니다."
  3. Manager가 작업을 검토하고 다음 작업 프롬프트를 준비하도록 요청합니다.

---

## 단계 10: 반복
- **목표**: 모든 작업이 완료될 때까지 프로세스를 반복합니다.
- **실행 방법**:
  1. Manager가 다음 작업 (예: Task B)을 위한 프롬프트를 제공하면, 새로운 Implementation Agent (예: Agent B)를 초기화하고 단계를 반복합니다.
  2. 프로젝트가 완료될 때까지 이 사이클을 계속 진행합니다.

---

매니저의 컨텍스트가 길어져 핸드오버가 필요할 때, 아래의 단계별 절차를 따라 진행하면 됩니다. 이 과정은 프로젝트의 연속성을 유지하며 컨텍스트 윈도우 한계를 극복하는 데 유용합니다.

---

### 1. 핸드오버 필요성 인식
- **목표**: 매니저 에이전트가 컨텍스트 윈도우 한계에 도달했거나 성능이 저하되었음을 알아차립니다.
- **징후**:
  - 이전 지침이나 중요한 결정을 잊어버림.
  - 응답이 일관성 없거나 오류가 늘어남.
  - 프로젝트 복잡성으로 인해 컨텍스트가 과도하게 길어짐.
- **방법**: 사용자가 이러한 징후를 모니터링하고, 핸드오버가 필요하다고 판단하면 다음 단계를 진행합니다.

---

### 2. 핸드오버 프로토콜 개시
- **목표**: 현재 매니저 에이전트에게 핸드오버를 시작하도록 지시합니다.
- **방법**:
  1. 현재 매니저 에이전트의 채팅 탭으로 이동합니다.
  2. 명확한 명령을 입력합니다. 예:  
     - "핸드오버 프로토콜을 개시해주세요."  
     - "컨텍스트가 길어졌으니 핸드오버를 진행해주세요."
  3. 매니저 에이전트가 핸드오버 준비를 시작합니다.

---

### 3. 핸드오버 아티팩트 준비
- **목표**: 현재 매니저 에이전트가 프로젝트 상태를 담은 파일을 생성합니다.
- **아티팩트**:
  - `Handover_File.md`: 프로젝트의 현재 상태, 진행 상황, 주요 결정 사항 등을 포함.
  - `Handover_Prompt.md`: 새로운 매니저 에이전트를 초기화하기 위한 지침과 작업 내용을 포함.
- **방법**:
  1. 매니저 에이전트가 두 파일을 생성합니다.
  2. 사용자는 파일을 검토하고, 누락된 정보가 있다면 추가 요청을 합니다.

---

### 4. 새로운 매니저 에이전트 초기화
- **목표**: 새로운 매니저 에이전트를 설정합니다.
- **방법**:
  1. 새로운 채팅 탭을 엽니다 (예: "APM Manager v2").
  2. `Handover_Prompt.md` 내용을 새 탭에 붙여넣어 초기화합니다.
  3. 새로운 에이전트가 `Handover_File.md`를 참조하며 상태를 파악합니다.

---

### 5. 컨텍스트 전송 및 이해 확인
- **목표**: 새로운 매니저 에이전트가 프로젝트 상태를 이해했는지 확인합니다.
- **방법**:
  1. 새로운 에이전트가 `Handover_File.md`를 검토하고 요약을 제공합니다.  
     예: "현재 상태는 [요약]이고, 다음 단계는 [작업]입니다. 맞나요?"
  2. 사용자가 요약을 확인하고, 필요 시 추가 설명을 제공합니다.

---

### 6. 핸드오버 완료 및 프로젝트 재개
- **목표**: 새로운 매니저 에이전트가 작업을 이어갑니다.
- **방법**:
  1. 사용자가 이해도를 확인한 후 진행을 지시합니다.  
     예: "맞습니다. 다음 작업을 시작해주세요."
  2. 새로운 에이전트가 이전 작업을 이어서 진행합니다.

---


# 매니저 에이전트 핸드오버 절차

## 1. 핸드오버 필요성 인식
- **징후**: 이전 지침 망각, 응답 불일치, 컨텍스트 과다.
- **방법**: 사용자가 모니터링 후 판단.

## 2. 핸드오버 프로토콜 개시
- **방법**: 채팅 탭에서 "핸드오버 프로토콜 개시" 명령.

## 3. 핸드오버 아티팩트 준비
- **파일**: `Handover_File.md` (상태 요약), `Handover_Prompt.md` (초기화 지침).
- **방법**: 에이전트가 생성, 사용자가 검토.

## 4. 새로운 매니저 에이전트 초기화
- **방법**: 새 탭 열고 `Handover_Prompt.md` 붙여넣기.

## 5. 컨텍스트 전송 및 이해 확인
- **방법**: 새 에이전트가 요약 제공, 사용자 확인.

## 6. 핸드오버 완료 및 프로젝트 재개
- **방법**: 사용자 승인 후 작업 재개.

---

메모리 뱅크의 내용이 비대해졌을 때, 아래 단계들을 따라 진행하면 효과적으로 관리하고 프로젝트의 연속성을 유지할 수 있습니다. 각 단계를 자세히 설명하겠습니다.

---

### 1. 메모리 뱅크 분석
- **목표**: 메모리 뱅크의 내용을 검토하여 어떤 부분이 비대해졌는지 파악합니다.
- **진행 방법**:
  - 메모리 뱅크 파일(예: `Memory_Bank.md`)을 열고 전체 내용을 살펴봅니다.
  - 항목의 수, 각 항목의 길이, 중복된 정보, 불필요한 세부 사항 등을 확인합니다.
  - 예를 들어, 초기 단계나 완료된 작업에 대한 과도한 기록이 비대함의 원인일 수 있습니다.

---

### 2. 필요한 정보 식별
- **목표**: 프로젝트 진행에 꼭 필요한 정보만 추려냅니다.
- **진행 방법**:
  - 프로젝트의 현재 목표와 다음 단계를 기준으로 중요한 정보를 선별합니다.
  - 필수 정보 예시: 완료된 작업의 요약, 주요 결정 사항, 진행 중인 작업 상태, 해결되지 않은 문제.
  - 필요 없는 정보 예시: 오래된 로그, 이미 해결된 문제의 세부 사항.

---

### 3. 정보 요약 및 정리
- **목표**: 필수 정보를 간결하게 정리하여 메모리 뱅크를 간소화합니다.
- **진행 방법**:
  - 중요한 항목을 간단한 문장으로 요약합니다.  
    예: "Task A 완료: 데이터 모델 설계. 결정: REST API 사용."
  - 중복된 내용은 통합하고, 불필요한 세부 사항은 삭제합니다.
  - 필요 시 메모리 뱅크를 여러 파일로 나눠 관리합니다(예: `Memory/Phase1_Bank.md`).

---

### 4. 핸드오버 준비
- **목표**: 요약된 정보를 바탕으로 새로운 에이전트가 사용할 핸드오버 파일을 만듭니다.
- **진행 방법**:
  - `Handover_File.md`를 작성하여 프로젝트 상태와 주요 정보를 정리합니다.
  

# Handover File
## 프로젝트 상태
- Phase 1 완료: 백엔드 설정.
- Phase 2 진행 중: 프론트엔드 개발.

## 주요 결정 사항
- 백엔드: REST API 사용.
- 프론트엔드: React 사용.

## 진행 중인 작업
- Task B: 사용자 인터페이스 구현.


  - 추가로, 새로운 에이전트가 초기화될 때 사용할 지침을 `Handover_Prompt.md`에 작성할 수 있습니다.

---

### 5. 새로운 에이전트 초기화
- **목표**: 핸드오버 파일을 활용해 새로운 에이전트를 준비합니다.
- **진행 방법**:
  - 새로운 에이전트를 시작하고, `Handover_File.md` 내용을 제공하여 프로젝트 상태를 전달합니다.
  - 에이전트가 내용을 파악할 수 있도록 필요한 경우 간단한 설명을 추가합니다.

---

### 6. 이해 확인 및 프로젝트 재개
- **목표**: 새로운 에이전트가 프로젝트를 이해했는지 확인하고 작업을 이어갑니다.
- **진행 방법**:
  - 에이전트가 프로젝트 상태를 요약해 보고하도록 요청합니다.
  - 요약을 검토하고, 추가 설명이 필요하면 제공합니다.
  - 이해가 확인되면 다음 작업을 지시하여 프로젝트를 재개합니다.
